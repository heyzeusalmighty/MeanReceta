
<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
<h3>How exciting!  New Recipe!</h3>
<button ng-click="rec.addNewRecipe()" class="btn btn-success">SAVE</button>
<button ng-click="rec.backToList()" class="btn btn-danger">CANCEL</button>

<div class="form-group">
    <label for="newName">Recipe Name</label>
    <input id="newName" class="form-control" ng-model="rec.newRecipe.RecipeName" >
</div>

<p><strong>Tags</strong></p>

<div class="buttonRow">
    <button class="btn bottomSpacing" title="add New Tag" ng-class="(rec.addingTag) ? 'btn-default' : 'btn-success'" ng-disabled="rec.addingTag" ng-click="rec.addNewTag()" >
        <i class="glyphicon glyphicon-plus"></i>
    </button>
    <div ng-repeat="tag in rec.foodTags" class="btn-group">
        <button class="btn bottomSpacing" ng-click="rec.toggleSelection(tag)" ng-class="tag.Selected ? 'btn-primary' : 'btn-default'">
            {{tag.tagName}}
        </button> &nbsp;
    </div>
</div>

<div class="form-inline ">
    <div class="form-group bottomSpacing" ng-show="rec.addingTag">
        <label for="newTagName" class="">Tag Name</label>
        <input type="text" class="form-control" ng-model="rec.newTagName" />
        <button class="btn btn-success" ng-click="rec.saveTag()">
            <i class="glyphicon glyphicon-ok"></i>
        </button>
        <button class="btn btn-danger" ng-click="rec.cancelTag()">
            <i class="glyphicon glyphicon-remove"></i>
        </button>
    </div>
</div>

<div class="form-group">
    <label for="newDescription">Description</label>
    <textarea id="newDescription" class="form-control" ng-model="rec.newRecipe.Description"></textarea>
</div>

<div class="form-group">
    <label for="newServing">Serving Size</label>
    <input type="text" id="newServing" class="form-control" ng-model="rec.newRecipe.ServingSize" />
</div>

<div class="form-group ">
    <div class="row">
        <!-- <div class="col-lg-1 col-xs-12">
            <button class="btn btn-success" ng-click="rec.addNewInstruction()" title="Add New Instruction">
                <i class="glyphicon glyphicon-plus"></i>
            </button>
        </div> -->
        <div class="col-lg-12 col-xs-12">
            <button class="btn btn-sm btn-success" ng-click="rec.addNewInstruction()" title="Add New Instruction">
                <i class="glyphicon glyphicon-plus"></i>
            </button>
            <label for="newInstructions">Instructions</label>
            <hr/>


            <div ng-repeat="ins in rec.instructions" class="form-group">
                <button class="btn btn-xs btn-danger" ng-click="rec.removeInstructions(ins)" title="Delete instruction"><i class="glyphicon glyphicon-remove"></i></button>
                 &nbsp;&nbsp;
                <label class="control-label">{{ins.id}}</label>
                
                <textarea ng-model="ins.instruction" id="newInstructions" class="form-control topSpace"></textarea>
            </div>
            
        </div>
    </div>
</div>





<button class="btn btn-primary" ng-click="rec.addNewGroup()">Add New Ingredient Group</button>
<div class="panel panel-warning" ng-repeat="group in rec.ingredients">
    <div class="panel-heading">
        <h3 class="panel-title"> {{group.title}}</h3>
    </div>
    <div class="panel-body">
        <div class="form-group">
            <label>Ingredient Group</label>
            <input type="text" class="form-control" ng-model="group.title" />
        </div>
        <button id="addNewIngredient" ng-click="rec.addNewIngredient(group)" class="btn btn-success" type="button">Add New Ingredient</button>
        <strong><span id="editMessaging"></span></strong>
        <div class="row">
            <div ng-repeat="ing in group.ingredients track by $index" class="col-md-4">
                <div class="input-group  input-group-sm topSpace">
                    <span class="input-group-btn">
                        <button class="btn btn-danger" type="button" ng-click="rec.deleteIngredient($index, $parent.$index)">
                            <i class="glyphicon glyphicon-remove"></i>
                        </button>
                    </span>
                    <input type="text" class="form-control input-sm" ng-model="ing.ing" />
                </div>
            </div>
        </div>
    </div>
</div>




<!-- <pre>{{rec.ingredients | json}}</pre>
 -->

</div>